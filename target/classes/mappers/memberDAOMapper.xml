<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.clockOn.web.dao.MemberDAO"> <!-- 인터페이스명 정확하게 적어야 한다. -->

	<select id="list"
		resultType="com.clockOn.web.entity.Member">
		select * from employee order by emp_name
	</select>
  		<!-- emp_id, emp_name,  emp_email,  emp_tel,  emp_dept,  emp_posi, emp_level, emp_sal, total_annday, emp_pic
  		new Member(emp_id, "", emp_name, emp_email, emp_tel, emp_dept, emp_posi, emp_level, null, null, emp_sal, fileName, total_annday, 0);
  		 -->
	<insert id="add" parameterType="com.clockOn.web.entity.Member">
		insert into employee(emp_id, emp_name, emp_email, emp_tel, emp_dept, emp_posi, emp_level, emp_sal, emp_pic, total_annday) 
		values(#{emp_id}, #{emp_name}, #{emp_email}, #{emp_tel}, #{emp_dept}, #{emp_posi}, #{emp_level}, #{emp_sal}, #{emp_pic}, #{total_annday})
	</insert>
	<delete id="del" parameterType="String">
		delete from employee where id=#{emp_id}
	</delete>
	<!-- update: 관리자 - 직원정보update 직원 - password update, 직원정보 update -->
	<update id="editInfo" parameterType="com.clockOn.web.entity.Member">
		update employee 
		set 
			emp_name = #{emp_name},
			emp_tel = #{emp_tel},
			emp_dept = #{emp_dept},
			emp_posi = #{emp_posi},
			emp_level = #{emp_level},
			emp_join = #{emp_join},
			<!--emp_resi = #{emp_resi},  목록형 수정을 가능하게 한다면 추가. 일단은 퇴사처리 따로 안하고 수정으로 함 -->
			emp_sal = #{emp_sal}, <!-- 급여변경처리도 일단은 한곳에서-->
			emp_pic = #{emp_pic},
			total_annday = #{total_annday} 
		where emp_id = #{emp_id}
			<!--annday_used = #{annday_used} where   혹시라도 나중에 연차 사용 취소할 경우 위해 열어둠..?? -->
	</update>
	
	<update id="updatePw" parameterType="String">
		update employee 
		set 
			emp_pw = #{emp_pw} 
		where emp_id = #{emp_id}
	</update>
	<update id="updateInfo" parameterType="com.clockOn.web.entity.Member">
		update employee 
		set 
			emp_email = #{emp_email},
			emp_pic = #{emp_pic},
			emp_pw = #{emp_pw}, 
		where emp_id = #{emp_id}
	</update>
</mapper>